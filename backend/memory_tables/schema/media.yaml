table: memory_media
description: |
  Tracks audio/video/image assets with associated transcripts, captions,
  and derived insights.
fields:
  - name: id
    type: uuid
    primary_key: true
    generated: true

  - name: file_path
    type: string
    required: true
    unique: true

  - name: media_type
    type: string
    allowed: [audio, video, image]
    required: true

  - name: duration_seconds
    type: integer
    default: 0

  - name: transcript_path
    type: string
    nullable: true

  - name: ocr_summary
    type: text
    nullable: true

  - name: key_topics
    type: json
    default: []

  - name: speakers
    type: json
    default: []
    description: Array of speaker objects with name and role

  - name: embeddings_path
    type: string
    nullable: true

  - name: trust_score
    type: float
    default: 0.0

  - name: governance_stamp
    type: json
    nullable: true

  - name: notes
    type: text
    nullable: true
indexes:
  - fields: [media_type]
  - fields: [file_path]
